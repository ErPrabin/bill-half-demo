import{M as G,N as j,O,P as _,Q as w,f as l,L as R,R as E,S as z,T as H,U as q,W as K,X as L,Y as Q,Z as W,$ as B,I as A,a0 as X,a1 as Y,r as v,c as Z,e as t,b as g,m as k,C as P,B as T,q as V,F as J,E as h,V as N,D as S,g as f,G as C,H as F,a2 as ee,K as le,x as ae,j as $}from"./index-TexIIK_8.js";import{V as te,a as oe,b as se}from"./VToolbar-BKv5Scf2.js";import{V as ue}from"./VSpacer-CEFGUlLq.js";import"./ssrBoot-CLhRb1dG.js";const ne=G({...j({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),D=O()({name:"VRadio",props:ne(),setup(o,m){let{slots:n}=m;return _(()=>{const r=w.filterProps(o);return l(w,R(r,{class:["v-radio",o.class],style:o.style,type:"radio"}),n)}),{}}}),re=G({height:{type:[Number,String],default:"auto"},...E(),...z(H(),["multiple"]),trueIcon:{type:q,default:"$radioOn"},falseIcon:{type:q,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),de=O()({name:"VRadioGroup",inheritAttrs:!1,props:re(),emits:{"update:modelValue":o=>!0},setup(o,m){let{attrs:n,slots:r}=m;const p=K(),u=L(()=>o.id||`radio-group-${p}`),d=Q(o,"modelValue");return _(()=>{const[b,I]=W(n),U=B.filterProps(o),x=w.filterProps(o),y=r.label?r.label({label:o.label,props:{for:u.value}}):o.label;return l(B,R({class:["v-radio-group",o.class],style:o.style},b,U,{modelValue:d.value,"onUpdate:modelValue":s=>d.value=s,id:u.value}),{...r,default:s=>{let{id:e,messagesId:a,isDisabled:c,isReadonly:i}=s;return l(A,null,[y&&l(X,{id:e.value},{default:()=>[y]}),l(Y,R(x,{id:e.value,"aria-describedby":a.value,defaultsTarget:"VRadio",trueIcon:o.trueIcon,falseIcon:o.falseIcon,type:o.type,disabled:c.value,readonly:i.value,"aria-labelledby":y?e.value:void 0,multiple:!1},I,{modelValue:d.value,"onUpdate:modelValue":M=>d.value=M}),r)])}})}),{}}}),ie={class:"d-flex justify-space-between align-center mb-2"},me={class:"d-flex align-center"},pe={class:"d-flex justify-space-between py-1"},ve={class:"font-weight-medium"},ye={__name:"index",setup(o){const m=v(""),n=v(""),r=v(new Date().toISOString().substr(0,10)),p=v("equal"),u=v([{name:"",share:0}]),d=v(!1),b=v(!1),I=()=>{u.value.push({name:"",share:0})},U=s=>{u.value.splice(s,1)},x=L(()=>{if(!n.value||u.value.length===0)return[];if(p.value==="equal"){const s=n.value/u.value.length;return u.value.map(e=>({name:e.name||"Unnamed",amount:s.toFixed(2)}))}else{const s=u.value.reduce((e,a)=>e+(Number(a.share)||0),0);return u.value.map(e=>({name:e.name||"Unnamed",amount:s?((Number(e.share)||0)/s*n.value).toFixed(2):0}))}}),y=async()=>{if(d.value){b.value=!0;try{console.log("Saving bill:",{title:m.value,amount:n.value,date:r.value,splitType:p.value,splits:x.value})}catch(s){console.error("Failed to save bill:",s)}finally{b.value=!1}}};return(s,e)=>(g(),Z(te,{style:{"padding-bottom":"56px"}},{default:t(()=>[l(ae,{class:"py-4"},{default:t(()=>[l(k,null,{default:t(()=>[l(oe,{color:"primary",density:"compact"},{default:t(()=>[l(P,{icon:"",onClick:e[0]||(e[0]=a=>s.$router.go(-1))},{default:t(()=>[l(T,null,{default:t(()=>e[6]||(e[6]=[V("mdi-arrow-left")])),_:1})]),_:1}),l(se,null,{default:t(()=>e[7]||(e[7]=[V("Add New Bill")])),_:1})]),_:1}),l(J,{onSubmit:h(y,["prevent"]),modelValue:d.value,"onUpdate:modelValue":e[5]||(e[5]=a=>d.value=a)},{default:t(()=>[l(N,null,{default:t(()=>[l(S,{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=a=>m.value=a),label:"Bill Title",rules:[a=>!!a||"Title is required"],"prepend-inner-icon":"mdi-file-document",variant:"outlined",class:"mb-2"},null,8,["modelValue","rules"]),l(S,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=a=>n.value=a),label:"Total Amount",type:"number",rules:[a=>!!a||"Amount is required"],"prepend-inner-icon":"mdi-currency-inr",variant:"outlined",class:"mb-2"},null,8,["modelValue","rules"]),l(S,{modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=a=>r.value=a),label:"Date",type:"date",rules:[a=>!!a||"Date is required"],"prepend-inner-icon":"mdi-calendar",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),f("div",ie,[e[10]||(e[10]=f("div",{class:"text-subtitle-1"},"Split Between",-1)),l(P,{color:"primary",variant:"text",density:"comfortable",onClick:I},{default:t(()=>[l(T,null,{default:t(()=>e[8]||(e[8]=[V("mdi-plus")])),_:1}),e[9]||(e[9]=V(" Add Person "))]),_:1})]),(g(!0),C(A,null,F(u.value,(a,c)=>(g(),C("div",{key:c,class:"mb-2"},[l(k,{variant:"outlined",class:"pa-2"},{default:t(()=>[f("div",me,[l(S,{modelValue:a.name,"onUpdate:modelValue":i=>a.name=i,label:"Name",variant:"outlined",density:"compact",class:"flex-grow-1 mr-2",rules:[i=>!!i||"Name required"]},null,8,["modelValue","onUpdate:modelValue","rules"]),l(S,{modelValue:a.share,"onUpdate:modelValue":i=>a.share=i,label:"Share",type:"number",variant:"outlined",density:"compact",style:{"max-width":"100px"},class:"mr-2",disabled:p.value==="equal"},null,8,["modelValue","onUpdate:modelValue","disabled"]),l(P,{icon:"",color:"error",size:"small",onClick:i=>U(c)},{default:t(()=>[l(T,null,{default:t(()=>e[11]||(e[11]=[V("mdi-delete")])),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)]))),128)),l(de,{modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=a=>p.value=a),class:"mt-4"},{default:t(()=>[l(D,{label:"Split Equally",value:"equal"}),l(D,{label:"Split by Custom Amount",value:"custom"})]),_:1},8,["modelValue"]),l(k,{variant:"outlined",class:"mt-4"},{default:t(()=>[l(N,null,{default:t(()=>[e[12]||(e[12]=f("div",{class:"text-subtitle-1 mb-2"},"Split Preview",-1)),(g(!0),C(A,null,F(x.value,(a,c)=>(g(),C("div",{key:c},[f("div",pe,[f("span",null,$(a.name),1),f("span",ve,"â‚¹"+$(a.amount),1)])]))),128))]),_:1})]),_:1})]),_:1}),l(ee),l(le,null,{default:t(()=>[l(ue),l(P,{color:"primary",size:"large",type:"submit",loading:b.value,disabled:!d.value},{default:t(()=>e[13]||(e[13]=[V(" Save Bill ")])),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{ye as default};
