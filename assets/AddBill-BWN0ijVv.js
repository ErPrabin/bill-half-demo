import{_ as $,r as o,X as J,c as x,e as u,x as H,b as r,f as a,F as A,E as B,V as N,D as m,q as d,j as S,G as D,H as L,I as q,g as K,C as f,a2 as M,K as F,m as T,p as O,a7 as R}from"./index-TexIIK_8.js";import{V as X}from"./VTextarea-CB8mBJHe.js";import{V as z}from"./VSelect-Ca4HzIFK.js";import{V as Q,c as W,a as Y}from"./VList-74BXSDpy.js";import{a as Z,V as _}from"./VChip-Bkw_wO1V.js";import{V as E}from"./VSpacer-CEFGUlLq.js";import{V as h}from"./VDialog-RfSF4Tuc.js";import"./dialog-transition-D7ZCLFfu.js";import"./VMenu-B2YbBVxG.js";import"./ssrBoot-CLhRb1dG.js";const ee={class:"selected-people-container mb-4"},le={__name:"AddBill",setup(ae){const p=o(""),n=o([]),b=o(""),y=o(""),C=o(""),v=o(!1),c=o(!1),s=o(!1),V=o(!1),w=o(null),i=o({name:"",email:""}),g=o([{id:1,name:"John Doe",email:"john@example.com"},{id:2,name:"Jane Smith",email:"jane@example.com"}]),G=[t=>!!t||"Email is required",t=>/.+@.+\..+/.test(t)||"Email must be valid"],P=J(()=>{if(!p.value)return g.value;const t=p.value.toLowerCase();return g.value.filter(e=>e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t))}),U=()=>{if(!V.value)return;const t={id:Date.now(),...i.value};g.value.push(t),n.value.push(t),s.value=!1,i.value={name:"",email:""}},j=t=>{n.value=n.value.filter(e=>e.id!==t.id)},I=async()=>{if(!(!v.value||n.value.length<2)){c.value=!0;try{console.log("Creating group:",{name:b.value,description:C.value,members:n.value})}finally{c.value=!1}}};return(t,e)=>(r(),x(H,{class:"py-4"},{default:u(()=>[a(T,null,{default:u(()=>[a(A,{onSubmit:B(I,["prevent"]),modelValue:v.value,"onUpdate:modelValue":e[8]||(e[8]=l=>v.value=l)},{default:u(()=>[a(N,null,{default:u(()=>[a(m,{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=l=>b.value=l),label:"Group Name",rules:[l=>!!l||"Group name is required"],"prepend-inner-icon":"mdi-account-group",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),a(X,{modelValue:C.value,"onUpdate:modelValue":e[1]||(e[1]=l=>C.value=l),label:"Description (Optional)","prepend-inner-icon":"mdi-text",variant:"outlined",rows:"3"},null,8,["modelValue"]),a(m,{modelValue:y.value,"onUpdate:modelValue":e[2]||(e[2]=l=>y.value=l),label:"Amount",rules:[l=>!!l||"Amount is required"],"prepend-inner-icon":"mdi-cash",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),a(z,{modelValue:w.value,"onUpdate:modelValue":e[3]||(e[3]=l=>w.value=l),items:P.value,"item-title":"name","item-value":"id",label:"Paid by","prepend-inner-icon":"mdi-account-cash",rules:[l=>!!l||"Bill payer is required"],variant:"outlined",class:"mb-4"},{selection:u(({item:l})=>[d(S(l.name),1)]),_:1},8,["modelValue","items","rules"]),a(m,{modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=l=>p.value=l),label:"Search People","prepend-inner-icon":"mdi-magnify",variant:"outlined",class:"mb-4"},null,8,["modelValue"]),a(Q,{"select-strategy":"multiple",modelValue:n.value,"onUpdate:modelValue":e[6]||(e[6]=l=>n.value=l)},{default:u(()=>[a(W,null,{default:u(()=>e[14]||(e[14]=[d("Select People")])),_:1}),(r(!0),D(q,null,L(P.value,l=>(r(),x(Y,{key:l.id,value:l,title:l.name,subtitle:l.email},{prepend:u(()=>[a(R,{modelValue:n.value,"onUpdate:modelValue":e[5]||(e[5]=k=>n.value=k),value:l},null,8,["modelValue","value"])]),_:2},1032,["value","title","subtitle"]))),128))]),_:1},8,["modelValue"]),K("div",ee,[a(Z,{class:"selected-people-chips",column:""},{default:u(()=>[(r(!0),D(q,null,L(n.value,l=>(r(),x(_,{key:l.id,closable:"","onClick:close":k=>j(l),class:"ma-1"},{default:u(()=>[d(S(l.name),1)]),_:2},1032,["onClick:close"]))),128))]),_:1})]),a(f,{color:"primary",variant:"text","prepend-icon":"mdi-plus",onClick:e[7]||(e[7]=l=>s.value=!0),class:"mb-4"},{default:u(()=>e[15]||(e[15]=[d(" Add New Person ")])),_:1})]),_:1}),a(M),a(F,null,{default:u(()=>[a(E),a(f,{color:"primary",type:"submit",disabled:!v.value||n.value.length<2,loading:c.value},{default:u(()=>e[16]||(e[16]=[d(" Add Bill ")])),_:1},8,["disabled","loading"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(h,{modelValue:s.value,"onUpdate:modelValue":e[13]||(e[13]=l=>s.value=l),"max-width":"500px"},{default:u(()=>[a(T,null,{default:u(()=>[a(O,null,{default:u(()=>e[17]||(e[17]=[d("Add New Person")])),_:1}),a(N,null,{default:u(()=>[a(A,{onSubmit:B(U,["prevent"]),modelValue:V.value,"onUpdate:modelValue":e[11]||(e[11]=l=>V.value=l)},{default:u(()=>[a(m,{modelValue:i.value.name,"onUpdate:modelValue":e[9]||(e[9]=l=>i.value.name=l),label:"Name",rules:[l=>!!l||"Name is required"],variant:"outlined",class:"mb-2"},null,8,["modelValue","rules"]),a(m,{modelValue:i.value.email,"onUpdate:modelValue":e[10]||(e[10]=l=>i.value.email=l),label:"Email",type:"email",rules:G,variant:"outlined"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),a(F,null,{default:u(()=>[a(E),a(f,{text:"",onClick:e[12]||(e[12]=l=>s.value=!1)},{default:u(()=>e[18]||(e[18]=[d("Cancel")])),_:1}),a(f,{color:"primary",onClick:U,disabled:!V.value},{default:u(()=>e[19]||(e[19]=[d(" Add ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},ve=$(le,[["__scopeId","data-v-87b87a21"]]);export{ve as default};
