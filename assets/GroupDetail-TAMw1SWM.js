import{r as m,o as S,c as i,e,x as L,b as o,a4 as T,G as f,f as a,p as y,q as n,V as B,k as N,l as g,g as s,j as u,I as p,H as D,C as _,m as x,a2 as G,J as j,K as F}from"./index-TexIIK_8.js";import{V as H}from"./VSkeletonLoader-B1CngXHA.js";import{V as I}from"./VChip-Bkw_wO1V.js";import{V as A,c as J,a as b}from"./VList-74BXSDpy.js";import{V as P}from"./VSpacer-CEFGUlLq.js";import{V as U}from"./VDialog-RfSF4Tuc.js";import"./ssrBoot-CLhRb1dG.js";import"./dialog-transition-D7ZCLFfu.js";const q={class:"text-body-1"},z={class:"text-h6"},K={class:"text-end"},M={class:"text-h6"},R={class:"d-flex justify-space-between align-center"},O={class:"text-primary"},Q={class:"mb-4"},W={class:"text-body-1"},nt={__name:"GroupDetail",setup(X){const v=m(!1),d=m(null),E=m(null),k=m(!0),V=m({startDate:"2024-03-01",totalAmount:7e3,bills:[{id:1,title:"Hotel",amount:5e3,addedBy:"John",date:"2024-03-01"},{id:2,title:"Dinner",amount:2e3,addedBy:"Alice",date:"2024-03-02"}]}),$=m([{id:1,startDate:"2024-02-01",endDate:"2024-02-28",totalAmount:12e3,bills:[],settlements:[{from:"Alice",to:"John",amount:2e3},{from:"Bob",to:"John",amount:1500}]},{id:2,startDate:"2024-02-01",endDate:"2024-02-28",totalAmount:12e3,bills:[],settlements:[{from:"Alice",to:"John",amount:2e3},{from:"Bob",to:"John",amount:1500}]},{id:3,startDate:"2024-02-01",endDate:"2024-02-28",totalAmount:12e3,bills:[],settlements:[{from:"Alice",to:"John",amount:2e3},{from:"Bob",to:"John",amount:1500}]},{id:4,startDate:"2024-02-01",endDate:"2024-02-28",totalAmount:12e3,bills:[],settlements:[{from:"Alice",to:"John",amount:2e3},{from:"Bob",to:"John",amount:1500}]},{id:5,startDate:"2024-02-01",endDate:"2024-02-28",totalAmount:12e3,bills:[],settlements:[{from:"Alice",to:"John",amount:2e3},{from:"Bob",to:"John",amount:1500}]}]);function h(){setTimeout(()=>{k.value=!1},1e3)}S(h);const w=c=>{d.value=c,v.value=!0},r=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(c,t)=>(o(),i(L,{class:"py-4"},{default:e(()=>[k.value?(o(),i(H,{key:0,type:"card, list-item-three-line@3"})):E.value?(o(),i(T,{key:1,type:"error",text:"Failed to load group details"})):(o(),f(p,{key:2},[a(x,{class:"mb-4"},{default:e(()=>[a(y,{class:"d-flex align-center"},{default:e(()=>[t[3]||(t[3]=n(" Current Episode ")),a(I,{class:"ml-2",color:"primary",size:"small"},{default:e(()=>t[2]||(t[2]=[n("Active")])),_:1})]),_:1}),a(B,null,{default:e(()=>[a(N,null,{default:e(()=>[a(g,{cols:"6"},{default:e(()=>[t[4]||(t[4]=s("div",{class:"text-caption"},"Started",-1)),s("div",q,u(r(V.value.startDate)),1)]),_:1}),a(g,{cols:"6"},{default:e(()=>[t[5]||(t[5]=s("div",{class:"text-caption"},"Total Amount",-1)),s("div",z,"₹"+u(V.value.totalAmount),1)]),_:1})]),_:1}),a(A,null,{default:e(()=>[(o(!0),f(p,null,D(V.value.bills,l=>(o(),i(b,{key:l.id,title:l.title,subtitle:`Added by ${l.addedBy} • ${r(l.date)}`},{append:e(()=>[s("div",K,[s("div",M,"₹"+u(l.amount),1)])]),_:2},1032,["title","subtitle"]))),128))]),_:1}),a(_,{block:"",color:"primary",to:"/groups/1/episodes/2",class:"mt-4",disabled:!V.value.bills.length},{default:e(()=>t[6]||(t[6]=[n(" View Current Episode ")])),_:1},8,["disabled"])]),_:1})]),_:1}),a(x,null,{default:e(()=>[a(y,null,{default:e(()=>t[7]||(t[7]=[n("Previous Episodes")])),_:1}),a(A,null,{default:e(()=>[(o(!0),f(p,null,D($.value,l=>(o(),i(b,{key:l.id,subtitle:`${r(l.startDate)} - ${r(l.endDate)}`},{title:e(()=>[s("div",R,[s("span",null,"Episode #"+u(l.id),1),s("span",O,"₹"+u(l.totalAmount),1)])]),append:e(()=>[a(_,{icon:"mdi-chevron-right",variant:"text",onClick:C=>w(l)},null,8,["onClick"])]),_:2},1032,["subtitle"]))),128))]),_:1})]),_:1}),a(U,{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=l=>v.value=l),"max-width":"500"},{default:e(()=>[a(x,null,{default:e(()=>[a(y,null,{default:e(()=>t[8]||(t[8]=[n("Episode Details")])),_:1}),d.value?(o(),i(B,{key:0},{default:e(()=>[s("div",Q,[t[9]||(t[9]=s("div",{class:"text-caption"},"Period",-1)),s("div",W,u(r(d.value.startDate))+" - "+u(r(d.value.endDate)),1)]),a(A,null,{default:e(()=>[a(J,null,{default:e(()=>t[10]||(t[10]=[n("Bills")])),_:1}),(o(!0),f(p,null,D(d.value.bills,l=>(o(),i(b,{key:l.id,title:l.title,subtitle:`Added by ${l.addedBy}`},{append:e(()=>[n("₹"+u(l.amount),1)]),_:2},1032,["title","subtitle"]))),128)),a(G),a(J,null,{default:e(()=>t[11]||(t[11]=[n("Settlements")])),_:1}),(o(!0),f(p,null,D(d.value.settlements,(l,C)=>(o(),i(b,{key:C,title:`${l.from} → ${l.to}`,subtitle:`₹${l.amount}`},null,8,["title","subtitle"]))),128))]),_:1})]),_:1})):j("",!0),a(F,null,{default:e(()=>[a(P),a(_,{text:"",onClick:t[0]||(t[0]=l=>v.value=!1)},{default:e(()=>t[12]||(t[12]=[n("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))]),_:1}))}};export{nt as default};
