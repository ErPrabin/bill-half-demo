import{r as s,w as P,c as S,e as l,x as R,y as j,b as V,f as t,V as k,D as _,m as g,G as $,H as q,I as H,B as f,q as n,g as C,J as K,p as B,C as v,j as w,K as W,z as h,L as O,E as Q}from"./index-TexIIK_8.js";import{V as L,a as b,b as T}from"./VList-74BXSDpy.js";import{V as N}from"./VDialog-RfSF4Tuc.js";import{V as X}from"./VSpacer-CEFGUlLq.js";import{V as Y}from"./VMenu-B2YbBVxG.js";import"./ssrBoot-CLhRb1dG.js";import"./dialog-transition-D7ZCLFfu.js";function Z(D,i=500){let u;return function(){clearTimeout(u),u=setTimeout(()=>{D()},i)}}const ee={class:"text-h6"},le={key:0,class:"text-center pa-8"},te={class:"d-flex align-center"},de={__name:"index",setup(D){const i=j(),u=s(""),c=s([{id:1,name:"Weekend Trip",members:["John","Alice","Bob"],code:"TRIP123"}]),d=s([...c.value]),x=s(!1),m=s(!1),r=s(null),y=s(!1),A=Z(()=>{const o=u.value.toLowerCase();d.value=c.value.filter(e=>e.name.toLowerCase().includes(o))},300);P(u,()=>{A()});const F=()=>{i.push("/groups/new")},I=o=>{i.push(`/groups/${o}`)},z=o=>{i.push(`/groups/${o.id}/edit`)},U=o=>{r.value=o,x.value=!0},E=async()=>{try{await navigator.clipboard.writeText(r.value.code),y.value=!0,setTimeout(()=>{y.value=!1},2e3)}catch(o){console.error("Failed to copy:",o)}},J=o=>{r.value=o,m.value=!0},M=async()=>{try{c.value=c.value.filter(o=>o.id!==r.value.id),d.value=d.value.filter(o=>o.id!==r.value.id),m.value=!1,r.value=null}catch(o){console.error("Failed to delete group:",o)}};return(o,e)=>(V(),S(R,{class:"pa-0"},{default:l(()=>[t(g,{flat:"",class:"mb-2"},{default:l(()=>[t(k,null,{default:l(()=>[t(_,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),"prepend-inner-icon":"mdi-magnify",label:"Search Groups",variant:"outlined",density:"comfortable","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(L,{class:"mb-16"},{default:l(()=>[(V(!0),$(H,null,q(d.value,a=>{var G;return V(),S(b,{key:a.id,title:a.name,subtitle:`${((G=a.members)==null?void 0:G.length)||0} members`,onClick:p=>I(a.id)},{prepend:l(()=>[t(h,{color:"primary",size:"40"},{default:l(()=>[C("span",ee,w(a.name.charAt(0)),1)]),_:2},1024)]),append:l(()=>[t(Y,null,{activator:l(({props:p})=>[t(v,O({icon:"mdi-dots-vertical",variant:"text",ref_for:!0},p,{onClick:e[1]||(e[1]=Q(()=>{},["stop"]))}),null,16)]),default:l(()=>[t(L,null,{default:l(()=>[t(b,{onClick:p=>z(a)},{prepend:l(()=>[t(f,null,{default:l(()=>e[6]||(e[6]=[n("mdi-pencil")])),_:1})]),default:l(()=>[t(T,null,{default:l(()=>e[7]||(e[7]=[n("Edit")])),_:1})]),_:2},1032,["onClick"]),t(b,{onClick:p=>U(a)},{prepend:l(()=>[t(f,null,{default:l(()=>e[8]||(e[8]=[n("mdi-share")])),_:1})]),default:l(()=>[t(T,null,{default:l(()=>e[9]||(e[9]=[n("Share Code")])),_:1})]),_:2},1032,["onClick"]),t(b,{onClick:p=>J(a),color:"error"},{prepend:l(()=>[t(f,{color:"error"},{default:l(()=>e[10]||(e[10]=[n("mdi-delete")])),_:1})]),default:l(()=>[t(T,null,{default:l(()=>e[11]||(e[11]=[n("Delete")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","subtitle","onClick"])}),128)),d.value.length?K("",!0):(V(),$("div",le,[t(f,{size:"64",color:"grey-lighten-2"},{default:l(()=>e[12]||(e[12]=[n("mdi-account-group-outline")])),_:1}),e[13]||(e[13]=C("div",{class:"text-h6 text-medium-emphasis mt-2"},"No Groups Found",-1))]))]),_:1}),t(N,{modelValue:x.value,"onUpdate:modelValue":e[3]||(e[3]=a=>x.value=a),"max-width":"400"},{default:l(()=>[t(g,null,{default:l(()=>[t(B,null,{default:l(()=>e[14]||(e[14]=[n("Share Group")])),_:1}),t(k,null,{default:l(()=>[e[15]||(e[15]=C("div",{class:"text-subtitle-1 mb-2"},"Share this code to invite people",-1)),C("div",te,[t(_,{modelValue:r.value.code,"onUpdate:modelValue":e[2]||(e[2]=a=>r.value.code=a),readonly:"",variant:"outlined",density:"compact",class:"flex-grow-1 mr-2"},null,8,["modelValue"]),t(v,{icon:"",color:"primary",onClick:E},{default:l(()=>[t(f,null,{default:l(()=>[n(w(y.value?"mdi-check":"mdi-content-copy"),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(N,{modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=a=>m.value=a),"max-width":"400"},{default:l(()=>[t(g,null,{default:l(()=>[t(B,null,{default:l(()=>e[16]||(e[16]=[n("Delete Group")])),_:1}),t(k,null,{default:l(()=>{var a;return[n(' Are you sure you want to delete "'+w((a=r.value)==null?void 0:a.name)+'"? This action cannot be undone. ',1)]}),_:1}),t(W,null,{default:l(()=>[t(X),t(v,{variant:"text",onClick:e[4]||(e[4]=a=>m.value=!1)},{default:l(()=>e[17]||(e[17]=[n("Cancel")])),_:1}),t(v,{color:"error",onClick:M},{default:l(()=>e[18]||(e[18]=[n("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(v,{color:"primary",icon:"mdi-plus",size:"large",position:"fixed",location:"bottom right",class:"mb-16 mr-4",onClick:F})]),_:1}))}};export{de as default};
